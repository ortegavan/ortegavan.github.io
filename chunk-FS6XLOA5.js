import{d as x,i as D,j as P,k as I}from"./chunk-TSIIK5GM.js";import{d as A,f as G}from"./chunk-MGK6DI3H.js";import{G as S,H as c,I as F,J as w,M as L,O as y,P as T,Q as M,S as N}from"./chunk-STZASGSS.js";import"./chunk-MPFBHWGG.js";import{$a as d,Ba as p,Cb as r,G as v,N as _,Na as s,Ta as u,X as l,eb as a,ib as i,jb as n,kb as C,ma as h,na as b,rb as f,sb as E}from"./chunk-NMSGTUAE.js";function k(e,m){e&1&&(i(0,"span",5),r(1,"Voc\xEA precisa informar seu e-mail"),n())}function R(e,m){e&1&&(i(0,"span",5),r(1,"O e-mail informado \xE9 inv\xE1lido"),n())}function j(e,m){if(e&1&&u(0,k,2,0,"span",5)(1,R,2,0,"span",5),e&2){let t=E();a(t.email!=null&&t.email.hasError("required")?0:-1),p(),a(t.email!=null&&t.email.hasError("email")?1:-1)}}function z(e,m){e&1&&(i(0,"span",5),r(1,"Voc\xEA precisa informar sua senha"),n())}var g=class e{form=b.required();submitEvent=h();get email(){return this.form().get("email")}get password(){return this.form().get("password")}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=s({type:e,selectors:[["app-login-form"]],inputs:{form:[1,"form"]},outputs:{submitEvent:"submitEvent"},decls:17,vars:3,consts:[[3,"ngSubmit","formGroup"],["for","email"],["type","email","pInputText","","formControlName","email"],["for","password"],["type","password","pInputText","","formControlName","password"],[1,"error"],["pButton","","type","submit"]],template:function(t,o){t&1&&(i(0,"form",0),f("ngSubmit",function(){return o.submitEvent.emit()}),i(1,"h2"),r(2,"Bem-vindo(a) de volta!"),n(),i(3,"p"),r(4,"Informe seu e-mail e senha para acessar sua conta"),n(),i(5,"div")(6,"label",1),r(7,"E-mail"),n(),C(8,"input",2),u(9,j,2,2),n(),i(10,"div")(11,"label",3),r(12,"Password"),n(),C(13,"input",4),u(14,z,2,0,"span",5),n(),i(15,"button",6),r(16,"Login"),n()()),t&2&&(d("formGroup",o.form()),p(9),a(o.email!=null&&o.email.invalid&&(o.email!=null&&o.email.touched)?9:-1),p(5),a(o.password!=null&&o.password.touched&&(o.password!=null&&o.password.hasError("required"))?14:-1))},dependencies:[N,L,S,F,w,y,T,P,D,G,A],styles:["form[_ngcontent-%COMP%]{width:100%;max-width:480px;padding:32px;margin:80px auto 0;border:solid 1px #eaeaea;border-radius:16px;background-color:#f8f8f8}div[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:16px 0}.ng-touched[_ngcontent-%COMP%]   .ng-invalid[_ngcontent-%COMP%]{border:solid 2px #f95774}.error[_ngcontent-%COMP%]{color:#f95774;font-size:14px}"]})};var O=class e{authService=l(I);router=l(x);fb=l(M);form=this.fb.group({email:["",[c.required,c.email]],password:["",c.required]});login(){if(this.form.invalid){this.form.markAllAsTouched();return}this.authService.login(this.form.value.email??"",this.form.value.password??"").pipe(v(),_(()=>{this.router.navigate(["/minha-conta"])})).subscribe()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=s({type:e,selectors:[["app-login"]],decls:1,vars:1,consts:[[3,"submitEvent","form"]],template:function(t,o){t&1&&(i(0,"app-login-form",0),f("submitEvent",function(){return o.login()}),n()),t&2&&d("form",o.form)},dependencies:[g],encapsulation:2})};export{O as LoginComponent};
